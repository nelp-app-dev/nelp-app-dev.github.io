(this["webpackJsonpstay22-test"]=this["webpackJsonpstay22-test"]||[]).push([[0],{115:function(e,t,n){},117:function(e,t,n){},120:function(e,t,n){},14:function(e){e.exports=JSON.parse('{"apiUrl":"https://test.api.amadeus.com/v2/shopping/hotel-offers","filters":{"latitude":45.50076,"longitude":-73.633767,"radius":300,"lang":"en","currency":"CAD","priceRange":"50-150","limit":10,"offset":0}}')},170:function(e,t,n){},213:function(e,t){},215:function(e,t,n){"use strict";n.r(t);var i,a=n(0),c=n.n(a),r=n(35),s=n.n(r),o=(n(115),n(56)),l=n.n(o),d=n(102),p=n(3),u=n(8),j=n(220),x=n(221),h=n(218),b=n(219),f=(n(117),n(1)),g=function(e){return e.loading?Object(f.jsx)("div",{className:"loading-container",children:Object(f.jsx)("div",{className:"loading"})}):null},m=n(57),O=function(e){var t=e.minprice,n=e.maxprice,i=e.setValues;return Object(f.jsx)("div",{style:{position:"absolute",width:"100%",bottom:"20px",zIndex:1e3},children:Object(f.jsx)("div",{style:{backgroundColor:"#fff",padding:"5px 20px",width:"350px",display:"flex",justifyContent:"center",flexWrap:"wrap",margin:"0 auto",boxShadow:"rgb(0 0 0 / 70%) 0px 0px 25px 0px"},children:Object(f.jsx)(m.Range,{values:[t,n],step:20,min:0,max:1e3,allowOverlap:!0,onChange:function(e){return i(e)},renderTrack:function(e){var i=e.props,a=e.children;return Object(f.jsx)("div",{onMouseDown:i.onMouseDown,onTouchStart:i.onTouchStart,style:Object(p.a)(Object(p.a)({},i.style),{},{height:"36px",display:"flex",width:"100%"}),children:Object(f.jsx)("div",{ref:i.ref,style:{height:"5px",width:"100%",background:Object(m.getTrackBackground)({values:[t,n],colors:["#ccc","#548BF4","#ccc"],min:0,max:1e3}),alignSelf:"center"},children:a})})},renderThumb:function(e){var i=e.index,a=e.props;e.isDragged;return Object(f.jsx)("div",Object(p.a)(Object(p.a)({},a),{},{style:Object(p.a)(Object(p.a)({},a.style),{},{height:"25px",width:"25px",borderRadius:"100%",backgroundColor:"#FFF",display:"flex",justifyContent:"center",alignItems:"center",boxShadow:"0px 2px 6px #AAA"}),children:Object(f.jsxs)("div",{style:{position:"absolute",top:"-28px",color:"#fff",fontWeight:"bold",fontSize:"14px",fontFamily:"Arial,Helvetica Neue,Helvetica,sans-serif",padding:"4px",borderRadius:"100%",backgroundColor:"#548BF4"},children:["$",0===i?t:n]})}))}})})})},v=(n(120),n(9)),y=n.n(v),k=n(109),w=(n(121),n(14)),S=Object(k.a)((function(e){var t=y.a.Routing.control({createMarker:function(){},waypoints:[y.a.latLng(e.hotel.latitude,e.hotel.longitude),y.a.latLng(w.filters.latitude,w.filters.longitude)],show:!1,addWaypoints:!1,draggableWaypoints:!1,showAlternatives:!1});return t.on("routesfound",(function(t){var n=t.routes;e.setDetailsRoute(n[0])})),t})),C=function(e){var t=e.hotel,n=e.setDetails,i=e.selected;return Object(f.jsxs)(h.a,{draggable:!1,eventHandlers:{click:function(){n(t)}},position:[t.latitude,t.longitude],children:[i&&Object(f.jsx)(S,{hotel:t,setDetailsRoute:function(e){return n(Object(p.a)(Object(p.a)({},t),{},{route:e}))}}),Object(f.jsx)(b.a,{direction:"left",offset:[-20,0],opacity:1,permanent:!0,children:Object(f.jsxs)("div",{children:["$",t.min_rates.price.toFixed(2)]})})]})},D=n(103),N=n(108),I=(n(169),n(170),n(106)),T=(n(171),function(e){return e.replace(/_/g," ").toLowerCase().replace(/^\w/,(function(e){return e.toUpperCase()}))}),_=function(e){var t=e.images;return Object(f.jsx)("div",{className:"slide-container",children:Object(f.jsx)(I.Fade,{children:t.map((function(e,t){return Object(f.jsx)("div",{className:"each-slide",style:{position:"relative"},children:Object(f.jsx)("div",{className:"image-container",children:Object(f.jsx)("img",{src:e,alt:"".concat(t)})})},"image-".concat(t))}))})})},z=function(e){var t,n=e.details,i=e.onClose,c=Object(a.useState)(!1),r=Object(u.a)(c,2),s=r[0],o=r[1];return Object(a.useEffect)((function(){o(!!n.id)}),[n.id]),n.id?Object(f.jsx)("div",{className:"details".concat(s?" details-shown":""),children:Object(f.jsxs)("div",{className:"details-content",children:[Object(f.jsx)("div",{onClick:function(){o(!1),setTimeout(i,300)},className:"close",children:"\u2a2f"}),Object(f.jsxs)(N.a,{style:{maxHeight:"100vh"},children:[Object(f.jsx)("h1",{className:"heading",style:{fontSize:"1.7em",padding:"20px"},children:n.name}),Object(f.jsxs)("div",{style:{height:"250px",position:"relative"},children:[Object(f.jsxs)("div",{className:"ribbon",children:[Object(f.jsxs)("div",{className:"price",children:["$",n.min_rates.price.toFixed(2)]}),Object(f.jsx)("div",{className:"label",children:"per night"})]}),Object(f.jsx)(_,{images:n.images})]}),Object(f.jsx)("div",{style:{padding:"20px",display:"flex",justifyContent:"center",alignItems:"center",backgroundColor:"#eee"},children:Object(f.jsxs)("span",{children:[Object(f.jsxs)("span",{style:{backgroundColor:"#333",color:"#fff",display:"inline-block",padding:"5px 10px",marginRight:"10px"},children:[n.rating,"-star"]}),Object(f.jsx)("span",{children:"hotel"})]})}),Object(f.jsxs)("div",{style:{padding:"20px 20px 0",textAlign:"center"},children:[Object(f.jsx)("p",{style:{margin:"0 0 20px"},children:[T(n.address.street),T(n.address.city),n.address.country,n.address.postal].join(", ")}),(n.amenities||[]).map((function(e){return Object(f.jsx)("span",{style:{display:"inline-block",padding:"3px 8px",backgroundColor:"#eee",borderRadius:"6px",margin:"3px"},children:T(e)},e)}))]}),Object(f.jsxs)("div",{style:{padding:"0 20px 20px",textAlign:"center"},children:[Object(f.jsx)("h3",{style:{borderTop:"1px solid #eee",borderBottom:"1px solid #eee",padding:"10px 0"},children:"Itinerary to Bell Center"}),n.route&&Object(f.jsxs)("p",{children:[Math.round(n.route.summary.totalTime%3600/60)," min (",(n.route.summary.totalDistance/1e3).toFixed(2)," km)"]}),Object(f.jsx)("div",{children:((null===(t=n.route)||void 0===t?void 0:t.instructions)||[]).map((function(e,t){return Object(f.jsxs)("div",{style:{display:"flex",justifyContent:"space-between",alignItems:"center",padding:"4px 0"},children:[Object(f.jsx)("span",{style:{fontSize:"13px",textAlign:"left"},children:e.text}),Object(f.jsx)("span",{style:{fontSize:"11px  "},children:e.distance?e.distance+" m":""})]},"ins-".concat(t))}))})]})]})]})}):null},A=function(e){var t=new Date(e),n=t.getFullYear(),i=""+(t.getMonth()+1),a=""+t.getDate();return i.length<2&&(i="0"+i),a.length<2&&(a="0"+a),[n,i,a].join("-")},F=new Date,R=new Date(F.getTime()+1728e5),M=n(24),B=n.n(M),W=n(107),J=n.n(W),U=function(e,t){return function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"get",n=arguments.length>2?arguments[2]:void 0;i&&i.cancel();var a=B.a.CancelToken;return i=a.source(),B()(w.apiUrl+"?"+J.a.stringify(e),{method:t,cancelToken:i.token,headers:{Authorization:"Bearer ".concat(n)}}).then((function(e){return e.data}))}(e,"get",t)},E="",H=[w.filters.latitude,w.filters.longitude],L=function(){var e=Object(a.useState)({minprice:localStorage.getItem("minprice")||50,maxprice:localStorage.getItem("maxprice")||150}),t=Object(u.a)(e,2),i=t[0],c=t[1],r=Object(a.useState)(Object(p.a)(Object(p.a)({},w.filters),{},{priceRange:"".concat(i.minprice,"-").concat(i.maxprice),checkInDate:A(F),checkOutDate:A(R)})),s=Object(u.a)(r,2),o=s[0],m=s[1],v=Object(a.useState)([]),y=Object(u.a)(v,2),k=y[0],S=y[1],N=Object(a.useState)(!0),I=Object(u.a)(N,2),T=I[0],_=I[1],M=Object(a.useState)({}),W=Object(u.a)(M,2),J=W[0],L=W[1];return Object(a.useEffect)((function(){_(!0),B.a.get("https://picsum.photos/v2/list").then(function(){var e=Object(d.a)(l.a.mark((function e(t){var a;return l.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(a=t.data.map((function(e){return e.download_url})),0!==E.length){e.next=4;break}return e.next=4,n(24)({method:"post",url:"https://test.api.amadeus.com/v1/security/oauth2/token",headers:{"Content-Type":"application/x-www-form-urlencoded"},data:n(203).stringify({grant_type:"client_credentials",client_id:"ViiSP6jM53xY7GSuWDP056lUIuGPZYMq",client_secret:"trpX3S5fUSTW3EcY"})}).then((function(e){E=e.data.access_token}));case 4:U(o,E).then((function(e){_(!1),S(e.data.filter((function(e){return+e.offers[0].price.variations.average.base>=i.minprice&&+e.offers[0].price.variations.average.base<=i.maxprice})).map((function(e){return{id:e.hotel.hotelId,name:e.hotel.name,latitude:e.hotel.latitude,longitude:e.hotel.longitude,min_rates:{price:+e.offers[0].price.variations.average.base},images:a.splice(0,2),amenities:e.hotel.amenities,review_count:"number",num_stars:"number",rating:e.hotel.rating,address:{street:e.hotel.address.lines[0],city:e.hotel.address.cityName,country:e.hotel.address.countryCode,postal:e.hotel.address.postalCode}}})))}));case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}),[o,S,i]),Object(f.jsxs)("div",{style:{position:"relative"},children:[Object(f.jsx)(g,{loading:T}),Object(f.jsx)(z,{details:J,onClose:function(){return L({})}}),Object(f.jsxs)("div",{style:{position:"absolute",zIndex:1e3,backgroundColor:"#fff",padding:"20px",left:"50%",margin:"20px auto",marginLeft:"-170px",width:"300px",fontWeight:200,textAlign:"center",fontSize:"14px",boxShadow:"rgb(0 0 0 / 70%) 0px 0px 25px 0px"},children:[Object(f.jsx)("div",{className:"heading",children:"Checkin - Checkout"}),Object(f.jsxs)("span",{style:{fontSize:"11px"},children:[o.checkInDate," - ",o.checkOutDate]})]}),Object(f.jsx)(D.a,{}),!J.id&&Object(f.jsx)(O,{minprice:i.minprice,maxprice:i.maxprice,setValues:function(e){c({minprice:e[0],maxprice:e[1]}),localStorage.setItem("minprice",JSON.stringify(e[0])),localStorage.setItem("maxprice",JSON.stringify(e[1])),m(Object(p.a)(Object(p.a)({},o),{},{priceRange:"".concat(i.minprice,"-").concat(i.maxprice)}))}}),Object(f.jsxs)(j.a,{center:H,zoom:13,scrollWheelZoom:!1,style:{height:"100vh"},children:[Object(f.jsx)(x.a,{attribution:'\xa9 <a href="http://osm.org/copyright">OpenStreetMap</a> contributors',url:"https://{s}.tile.openstreetmap.org/{z}/{x}/{y}.png"}),Object(f.jsx)(h.a,{position:H,children:Object(f.jsx)(b.a,{direction:"left",offset:[-20,0],opacity:1,permanent:!0,children:Object(f.jsx)("div",{children:"Bell Center"})})}),(J.id?k.filter((function(e){return e.id===J.id})):k).map((function(e){return Object(f.jsx)(C,{hotel:e,selected:e.id===J.id,setDetails:L},e.id)}))]})]})};s.a.render(Object(f.jsx)(c.a.StrictMode,{children:Object(f.jsx)(L,{})}),document.getElementById("root"))}},[[215,1,2]]]);
//# sourceMappingURL=main.89a171fc.chunk.js.map